<!doctype html>
<html lang="en">
<body>
<input type="button" value="probe" id="serial-probe-button">
<textarea id="text-area"></textarea>
<script type="module">
    function serialProbe() {
        console.log("serialProbe...");
        let promise = navigator.serial.getPorts().then((ports) => {
            let message = `got serial ports: ${ports.toString()}`;
            console.log(message);
            const textArea = document.getElementById("text-area")
            textArea.value += message;
        })
    }
    function setupSerial() {
        const button = document.getElementById("serial-probe-button");
        button.onclick = (event) => {serialProbe();}
    }

    setupSerial();
</script>
</body>
</html>
